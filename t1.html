<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>GeoAR.js demo</title>
    <script src='https://aframe.io/releases/1.4.2/aframe.min.js'></script>
    <script src="./assets/aframe-ar.js"></script>
    <script src="./assets/aframe-extras.loaders.min.js"></script>
<!--    <script>-->
<!--        THREEx.ArToolkitContext.baseURL = 'https://raw.githubusercontent.com/chelewy/infAR/main'-->
<!--    </script>-->
</head>

<body style='margin: 0; overflow: hidden;'>
    <a-scene
        vr-mode-ui="enabled: false"
		embedded
        arjs='sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960; debugUIEnabled: false;'>

        <a-camera id="kamera" gps-camera rotation-reader></a-camera>
        <a-entity id="model" gltf-model="./assets/asset.gltf" rotation="0 180 0" scale="0.005 0.005 0.005" animation-mixer/>

	</a-scene>

    <script>
        // Kamera ve 3D model için referansları alın
        var kamera = document.getElementById('kamera');
        var model = document.getElementById('model');

        // GPS konum izleyicisi oluşturun
        var gpsIzleyici = navigator.geolocation.watchPosition(
            function (pozisyon) {
                // Yeni konumu alın
                var enlem = pozisyon.coords.latitude;
                var boylam = pozisyon.coords.longitude;

                // 3D modelin konumunu güncelleyin
                model.setAttribute('gps-entity-place', 'latitude: ' + enlem + '; longitude: ' + boylam + ';');
            },
            function (hata) {
                console.error('Konum izleyicisinde bir hata oluştu: ' + hata.message);
            }
        );
    </script>
</body>
</html>
